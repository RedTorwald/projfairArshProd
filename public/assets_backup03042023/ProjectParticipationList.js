import{d as F,l as P,o as s,a as n,w as _,u as r,i as S,U as k,_ as A,A as T,s as h,K as j,V as E,G as I,c as l,F as b,r as x,t as R,J as L,g as V,h as N,W as M}from"./index.js";import{a as D}from"./datetime.js";import{_ as O}from"./OpenParticipationModalButton.js";import{B as U}from"./BaseTable.js";const W=F({setup(g){const i=P(),c="\u041D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438 :(",u="\u041F\u043E\u043A\u0430 \u043D\u0430 \u044D\u0442\u043E\u0442 \u043F\u0440\u043E\u0435\u043A\u0442 \u0435\u0449\u0451 \u043D\u0435 \u043F\u043E\u0434\u0430\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438, \u0442\u0430\u043A \u0447\u0442\u043E \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u0441\u0442\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u044B\u043C!";return(d,m)=>(s(),n(k,{title:c,subtitle:u},{button:_(()=>[r(i).openedProject?(s(),n(O,{key:0,project:r(i).openedProject,variant:"primary"},null,8,["project"])):S("",!0)]),_:1}))}});const $=F({setup(g){const i=T(),c=P(),{openedProject:u,loading:d,error:m}=h(c);j(()=>{var a,o;const t=(a=u==null?void 0:u.value)==null?void 0:a.state.id,e=(o=u==null?void 0:u.value)==null?void 0:o.id;e&&t&&!N(t)&&i.replace(M(e))});function y(t){return D.fromISO(t,{locale:"ru-RU"}).toLocaleString(D.DATETIME_MED_WITH_SECONDS)}function C(t){return[...t].sort((e,a)=>new Date(e.updated_at).getTime()*e.priority-new Date(a.updated_at).getTime()*a.priority)}const f=E(()=>{var e;let t=(e=u==null?void 0:u.value)==null?void 0:e.participations;return t?C(t):[]}),v=E(()=>f.value.map(({candidate:t,priority:e,updated_at:a,id:o},p)=>({key:String(o),data:[p+1,t.fio,t.training_group,e,y(a)]})));return(t,e)=>r(u)&&r(f).length>0&&!r(d)&&!r(m)?(s(),n(U,{key:0,class:"table",headers:["\u2116","\u0424\u0418\u041E","\u0413\u0440\u0443\u043F\u043F\u0430","\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u043E\u0441\u0442\u044C","\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438 \u0437\u0430\u044F\u0432\u043A\u0438"],rows:r(v)},{row:_(({row:a,index:o,key:p})=>[(s(),l("tr",{key:p||o,class:L({accepted:o+1<=r(u).places})},[(s(!0),l(b,null,x(a,(w,B)=>(s(),l("td",{key:B},R(w),1))),128))],2))]),_:1},8,["rows"])):(s(),n(I,{key:1},{default:_(()=>[V(W)]),_:1}))}});var K=A($,[["__scopeId","data-v-796a12f0"]]);export{K as default};
