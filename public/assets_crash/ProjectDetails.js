var O=Object.defineProperty,W=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var H=(u,o,e)=>o in u?O(u,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[o]=e,S=(u,o)=>{for(var e in o||(o={}))q.call(o,e)&&H(u,e,o[e]);if(P)for(var e of P(o))J.call(o,e)&&H(u,e,o[e]);return u},L=(u,o)=>W(u,Y(o));import{_ as v,d as y,o as n,c as f,q as Q,J as I,v as K,a as h,w as s,S as U,B as X,F as B,i as D,b as i,x as C,y as F,n as _,g as t,t as j,u as c,G as g,C as b,r as Z,W as uu,e as tu,$ as eu,Q as su,l as ou,s as lu,m as ru}from"./index.js";import{D as x,T as M}from"./TagList.js";import{A as d,a as p}from"./AppList.js";import{P as T,a as N,_ as R}from"./ProjectTeamCounter.js";import{_ as z}from"./OpenParticipationModalButton.js";const au=y({props:{cols:null},setup(u){function o(e){if(!e)return"";if(typeof e=="string")return e;let a="";for(let l=0;l<e;l++)a+="1fr ";return a}return(e,a)=>(n(),f("div",{class:I(["row",{mobile:!e.$props.cols||e.$props.cols===1}]),style:K({gridTemplateColumns:o(e.$props.cols)})},[Q(e.$slots,"default",{},void 0,!0)],6))}});var w=v(au,[["__scopeId","data-v-0c33a841"]]);const iu=u=>(C("data-v-772a8389"),u=u(),F(),u),nu=i(" \u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0445\u0440\u043E\u043D\u043E\u043B\u043E\u0433\u0438\u044E "),cu=iu(()=>_("br",null,null,-1)),du=i(" \u043F\u0440\u043E\u0435\u043A\u0442\u0430 \u2197 "),_u=i(" \u041D\u0430 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u044D\u0442\u043E \u0435\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0432\u0435\u0440\u0441\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430 "),pu=y({inheritAttrs:!1}),fu=y(L(S({},pu),{props:{historyLength:null},setup(u){const o=u;return(e,a)=>o.historyLength?(n(),f(B,{key:0},[o.historyLength>1?(n(),h(X,U({key:0},e.$attrs,{class:"button",variant:"inline-link",case:"none"}),{default:s(()=>[nu,cu,du]),_:1},16)):(n(),f(B,{key:1},[_u],64))],64)):D("",!0)}}));var G=v(fu,[["__scopeId","data-v-772a8389"]]);const hu={class:"status-wrapper"},yu=i(" \u041C\u0435\u0441\u0442 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u0435 "),ju=i(" \u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u0440\u043E\u0435\u043A\u0442\u0430 "),mu=i("\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),vu=i("\u0421\u0442\u0430\u0440\u0442 \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),Eu=i("\u0417\u0430\u043A\u0430\u0437\u0447\u0438\u043A"),gu=i("\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C"),Du=i("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),Au=i("\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F \u043A \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0430\u043C"),Bu={class:"controls"},$u=y({props:{project:null,history:null,showHistoryModal:{type:Boolean}},emits:["showHistory"],setup(u,{emit:o}){return(e,a)=>(n(),h(g,null,{default:s(()=>[_("div",hu,[_("p",null,[yu,t(T,{class:"counter",total:u.project.places},null,8,["total"])]),_("p",null,[ju,t(N,{class:"status",state:u.project.state},null,8,["state"])])]),t(w,null,{default:s(()=>{var l;return[t(d,null,{default:s(()=>[t(p,null,{title:s(()=>[mu]),default:s(()=>[i(j(u.project.supervisorsNames||u.project.supervisors.map(r=>r.supervisor.fio).join(", ")||"-"),1)]),_:1}),t(p,null,{title:s(()=>[vu]),default:s(()=>[i(j(u.project.date_start||"-"),1)]),_:1}),t(p,null,{title:s(()=>[Eu]),default:s(()=>[i(j(u.project.customer||"-"),1)]),_:1}),t(p,null,{title:s(()=>[gu]),default:s(()=>[i(j(c(x)[u.project.difficulty]||"-"),1)]),_:1}),t(p,null,{title:s(()=>[Du]),default:s(()=>{var r;return[t(G,{"history-length":(r=u.history)==null?void 0:r.length,onClick:a[0]||(a[0]=E=>o("showHistory"))},null,8,["history-length"])]}),_:1})]),_:1}),t(d,{items:[{title:"\u0426\u0435\u043B\u044C \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.goal,wide:!0},{title:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.description,wide:!0}]},null,8,["items"]),t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.product_result,wide:!0},{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0443\u0447\u0435\u0431\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.study_result,wide:!0}]},null,8,["items"]),((l=u.project)==null?void 0:l.skills.length)>0?(n(),h(d,{key:0},{default:s(()=>[t(p,{bold:!1,wide:!0},{title:s(()=>[Au]),default:s(()=>[t(M,{"tag-list":u.project.skills,"show-all":""},null,8,["tag-list"])]),_:1})]),_:1})):D("",!0)]}),_:1}),_("div",Bu,[t(z,{project:u.project},null,8,["project"]),t(R,{project:u.project},null,8,["project"])])]),_:1}))}});var wu=v($u,[["__scopeId","data-v-7a380361"]]);const Cu={class:"year"},Fu=y({props:{projectList:null,currentProjectId:null},setup(u){const o=u,e=b(null);function a(l){if(!e.value)return;let r=1;l.deltaMode===l.DOM_DELTA_LINE&&(r=parseInt(getComputedStyle(e.value).lineHeight)),l.deltaMode===l.DOM_DELTA_PAGE&&(r=e.value.clientHeight),l.deltaY!==0&&(e.value.scrollLeft+=r*l.deltaY,l.preventDefault())}return(l,r)=>(n(),f("ul",{ref_key:"containerRef",ref:e,class:"container",onWheel:a},[(n(!0),f(B,null,Z(o.projectList,({title:E,year:$,projectId:A})=>(n(),f("li",{key:A,class:I([{current:A===o.currentProjectId},"project"])},[_("p",Cu,j($),1),t(c(tu),{class:"link",to:c(uu)(A)},{default:s(()=>[i(j(E),1)]),_:2},1032,["to"])],2))),128))],544))}});var ku=v(Fu,[["__scopeId","data-v-5fab78b8"]]);const Pu=u=>(C("data-v-3b3b6e06"),u=u(),F(),u),Hu=Pu(()=>_("h1",null,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430",-1)),Su=y({props:{projectList:null,currentProjectId:null},setup(u,{emit:o}){const e=u;return(a,l)=>(n(),h(eu,{"is-show":e.isShow,onClose:l[0]||(l[0]=r=>o("close"))},{default:s(()=>[Hu,t(ku,{class:"history-list","project-list":u.projectList.map(r=>({projectId:r.id,title:r.title,year:`${r.date_start} - ${r.date_end}`})),"current-project-id":e.currentProjectId},null,8,["project-list","current-project-id"])]),_:1},8,["is-show"]))}});var Lu=v(Su,[["__scopeId","data-v-3b3b6e06"]]);const V=u=>(C("data-v-650cc08e"),u=u(),F(),u),Iu=i("\u0426\u0435\u043B\u044C \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),bu=i("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),xu=V(()=>_("p",{class:"info-title"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",-1)),Mu=V(()=>_("p",{class:"info-title mt-4"},"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u043E\u0432",-1)),Tu=i("\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F \u043A \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0430\u043C"),Nu=y({props:{project:null,history:null,showHistoryModal:{type:Boolean}},emits:["showHistory"],setup(u,{emit:o}){return(e,a)=>{var l;return n(),f(B,null,[t(g,null,{default:s(()=>[t(w,{cols:"4fr 4fr 2fr"},{default:s(()=>[t(d,{items:[{title:"\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.supervisorsNames||u.project.supervisors.map(r=>r.supervisor.fio).join(", ")},{title:"\u0421\u0442\u0430\u0440\u0442 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.date_start},{title:"\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C",content:c(x)[u.project.difficulty]},{title:"\u0417\u0430\u043A\u0430\u0437\u0447\u0438\u043A",content:u.project.customer}]},null,8,["items"]),t(d,null,{default:s(()=>[t(p,null,{title:s(()=>[Iu]),default:s(()=>[i(j(u.project.goal),1)]),_:1}),t(p,null,{title:s(()=>[bu]),default:s(()=>{var r;return[t(G,{"history-length":(r=u.history)==null?void 0:r.length,onClick:a[0]||(a[0]=E=>o("showHistory"))},null,8,["history-length"])]}),_:1})]),_:1}),_("div",null,[xu,t(N,{class:"badge mt-2",state:u.project.state},null,8,["state"]),Mu,t(T,{class:"mt-2",total:u.project.places},null,8,["total"]),t(z,{class:"mt-4",project:u.project},null,8,["project"]),t(R,{class:"mt-4",project:u.project},null,8,["project"])])]),_:1})]),_:1}),t(g,null,{default:s(()=>[t(d,{items:[{title:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.description,wide:!0}]},null,8,["items"])]),_:1}),t(g,null,{default:s(()=>[t(w,{cols:2},{default:s(()=>[t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.product_result}]},null,8,["items"]),t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0443\u0447\u0435\u0431\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.study_result}]},null,8,["items"])]),_:1})]),_:1}),((l=u.project)==null?void 0:l.skills.length)>0?(n(),h(g,{key:0},{default:s(()=>[t(d,null,{default:s(()=>[t(p,{bold:!1,wide:!0},{title:s(()=>[Tu]),default:s(()=>[t(M,{"tag-list":u.project.skills,"show-all":""},null,8,["tag-list"])]),_:1})]),_:1})]),_:1})):D("",!0)],64)}}});var Ru=v(Nu,[["__scopeId","data-v-650cc08e"]]);const zu={key:0},Ju=y({setup(u){const o=su(),e=ou(),a=b(!1),{openedProject:l,openedProjectHistory:r,loading:E,error:$}=lu(e);return ru(()=>l,()=>a.value=!1,{deep:!0}),(A,m)=>c(l)&&!c(E)&&!c($)?(n(),f("section",zu,[c(r)?(n(),h(Lu,{key:0,"current-project-id":c(l).id,"is-show":a.value,"project-list":c(r),size:"m",onClose:m[0]||(m[0]=k=>a.value=!1)},null,8,["current-project-id","is-show","project-list"])):D("",!0),c(o)?(n(),h(wu,{key:1,project:c(l),"show-history-modal":a.value,history:c(r),onShowHistory:m[1]||(m[1]=k=>a.value=!0)},null,8,["project","show-history-modal","history"])):(n(),h(Ru,{key:2,project:c(l),"show-history-modal":a.value,history:c(r),onShowHistory:m[2]||(m[2]=k=>a.value=!0)},null,8,["project","show-history-modal","history"]))])):D("",!0)}});export{Ju as default};
