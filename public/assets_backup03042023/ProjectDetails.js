var q=Object.defineProperty,O=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var S=(u,l,e)=>l in u?q(u,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[l]=e,b=(u,l)=>{for(var e in l||(l={}))Y.call(l,e)&&S(u,e,l[e]);if(P)for(var e of P(l))J.call(l,e)&&S(u,e,l[e]);return u},H=(u,l)=>O(u,W(l));import{_ as v,d as j,o as a,c as f,q as Q,J as L,v as K,a as h,w as s,S as U,B as X,F as B,i as D,b as i,x as g,y as k,n as _,g as t,t as y,u as c,G as w,C as I,r as Z,W as uu,e as tu,$ as eu,Q as su,l as lu,s as ou,m as ru}from"./index.js";import{P as x,a as M,D as T,S as N,_ as R}from"./ProjectTeamCounter.js";import{A as d,a as p}from"./AppList.js";import{_ as z}from"./OpenParticipationModalButton.js";const nu=j({props:{cols:null},setup(u){function l(e){if(!e)return"";if(typeof e=="string")return e;let r="";for(let o=0;o<e;o++)r+="1fr ";return r}return(e,r)=>(a(),f("div",{class:L(["row",{mobile:!e.$props.cols||e.$props.cols===1}]),style:K({gridTemplateColumns:l(e.$props.cols)})},[Q(e.$slots,"default",{},void 0,!0)],6))}});var C=v(nu,[["__scopeId","data-v-0c33a841"]]);const iu=u=>(g("data-v-2b36508c"),u=u(),k(),u),au=i(" \u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0445\u0440\u043E\u043D\u043E\u043B\u043E\u0433\u0438\u044E "),cu=iu(()=>_("br",null,null,-1)),du=i(" \u043F\u0440\u043E\u0435\u043A\u0442\u0430 \u2197 "),_u=i(" \u041D\u0430 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u044D\u0442\u043E \u0435\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0432\u0435\u0440\u0441\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430 "),pu=j({inheritAttrs:!1}),fu=j(H(b({},pu),{props:{historyLength:null},setup(u){const l=u;return(e,r)=>l.historyLength?(a(),f(B,{key:0},[l.historyLength>1?(a(),h(X,U({key:0},e.$attrs,{class:"button",variant:"inline-link",case:"default"}),{default:s(()=>[au,cu,du]),_:1},16)):(a(),f(B,{key:1},[_u],64))],64)):D("",!0)}}));var G=v(fu,[["__scopeId","data-v-2b36508c"]]);const hu={class:"status-wrapper"},ju=i(" \u041C\u0435\u0441\u0442 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u0435 "),yu=i(" \u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u0440\u043E\u0435\u043A\u0442\u0430 "),mu=i("\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),vu=i("\u0421\u0442\u0430\u0440\u0442 \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),Eu=i("\u0417\u0430\u043A\u0430\u0437\u0447\u0438\u043A"),wu=i("\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C"),Du=i("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),Au=i("\u0422\u0435\u0433\u0438"),Bu={class:"controls"},$u=j({props:{project:null,history:null,showHistoryModal:{type:Boolean}},emits:["showHistory"],setup(u,{emit:l}){return(e,r)=>(a(),h(w,null,{default:s(()=>[_("div",hu,[_("p",null,[ju,t(x,{class:"counter",total:u.project.places},null,8,["total"])]),_("p",null,[yu,t(M,{class:"status",state:u.project.state},null,8,["state"])])]),t(C,null,{default:s(()=>{var o;return[t(d,null,{default:s(()=>[t(p,null,{title:s(()=>[mu]),default:s(()=>[i(y(u.project.supervisorsNames||u.project.supervisors.join(", ")||"-"),1)]),_:1}),t(p,null,{title:s(()=>[vu]),default:s(()=>[i(y(u.project.date_start||"-"),1)]),_:1}),t(p,null,{title:s(()=>[Eu]),default:s(()=>[i(y(u.project.customer||"-"),1)]),_:1}),t(p,null,{title:s(()=>[wu]),default:s(()=>[i(y(c(T)[u.project.difficulty]||"-"),1)]),_:1}),t(p,null,{title:s(()=>[Du]),default:s(()=>{var n;return[t(G,{"history-length":(n=u.history)==null?void 0:n.length,onClick:r[0]||(r[0]=E=>l("showHistory"))},null,8,["history-length"])]}),_:1})]),_:1}),t(d,{items:[{title:"\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F \u043A \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0430\u043C",content:u.project.requirements,wide:!0},{title:"\u0426\u0435\u043B\u044C \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.goal,wide:!0},{title:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.description,wide:!0}]},null,8,["items"]),t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.product_result,wide:!0},{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0443\u0447\u0435\u0431\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.study_result,wide:!0}]},null,8,["items"]),((o=u.project)==null?void 0:o.skills.length)>0?(a(),h(d,{key:0},{default:s(()=>[t(p,{bold:!1,wide:!0},{title:s(()=>[Au]),default:s(()=>[t(N,{skills:u.project.skills,"show-all":""},null,8,["skills"])]),_:1})]),_:1})):D("",!0)]}),_:1}),_("div",Bu,[t(z,{project:u.project},null,8,["project"]),t(R,{project:u.project},null,8,["project"])])]),_:1}))}});var Cu=v($u,[["__scopeId","data-v-3146b606"]]);const gu={class:"year"},ku=j({props:{projectList:null,currentProjectId:null},setup(u){const l=u,e=I(null);function r(o){if(!e.value)return;let n=1;o.deltaMode===o.DOM_DELTA_LINE&&(n=parseInt(getComputedStyle(e.value).lineHeight)),o.deltaMode===o.DOM_DELTA_PAGE&&(n=e.value.clientHeight),o.deltaY!==0&&(e.value.scrollLeft+=n*o.deltaY,o.preventDefault())}return(o,n)=>(a(),f("ul",{ref_key:"containerRef",ref:e,class:"container",onWheel:r},[(a(!0),f(B,null,Z(l.projectList,({title:E,year:$,projectId:A})=>(a(),f("li",{key:A,class:L([{current:A===l.currentProjectId},"project"])},[_("p",gu,y($),1),t(c(tu),{class:"link",to:c(uu)(A)},{default:s(()=>[i(y(E),1)]),_:2},1032,["to"])],2))),128))],544))}});var Fu=v(ku,[["__scopeId","data-v-5fab78b8"]]);const Pu=u=>(g("data-v-3b3b6e06"),u=u(),k(),u),Su=Pu(()=>_("h1",null,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430",-1)),bu=j({props:{projectList:null,currentProjectId:null},setup(u,{emit:l}){const e=u;return(r,o)=>(a(),h(eu,{"is-show":e.isShow,onClose:o[0]||(o[0]=n=>l("close"))},{default:s(()=>[Su,t(Fu,{class:"history-list","project-list":u.projectList.map(n=>({projectId:n.id,title:n.title,year:`${n.date_start} - ${n.date_end}`})),"current-project-id":e.currentProjectId},null,8,["project-list","current-project-id"])]),_:1},8,["is-show"]))}});var Hu=v(bu,[["__scopeId","data-v-3b3b6e06"]]);const V=u=>(g("data-v-e95b4d26"),u=u(),k(),u),Lu=i("\u0426\u0435\u043B\u044C \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),Iu=i("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430"),xu=V(()=>_("p",{class:"info-title"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",-1)),Mu=V(()=>_("p",{class:"info-title mt-4"},"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u043E\u0432",-1)),Tu=i("\u0422\u0435\u0433\u0438"),Nu=j({props:{project:null,history:null,showHistoryModal:{type:Boolean}},emits:["showHistory"],setup(u,{emit:l}){return(e,r)=>{var o;return a(),f(B,null,[t(w,null,{default:s(()=>[t(C,{cols:"4fr 4fr 2fr"},{default:s(()=>[t(d,{items:[{title:"\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.supervisorsNames||u.project.supervisors.join(", ")},{title:"\u0421\u0442\u0430\u0440\u0442 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.date_start},{title:"\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C",content:c(T)[u.project.difficulty]},{title:"\u0417\u0430\u043A\u0430\u0437\u0447\u0438\u043A",content:u.project.customer}]},null,8,["items"]),t(d,null,{default:s(()=>[t(p,null,{title:s(()=>[Lu]),default:s(()=>[i(y(u.project.goal),1)]),_:1}),t(p,null,{title:s(()=>[Iu]),default:s(()=>{var n;return[t(G,{"history-length":(n=u.history)==null?void 0:n.length,onClick:r[0]||(r[0]=E=>l("showHistory"))},null,8,["history-length"])]}),_:1})]),_:1}),_("div",null,[xu,t(M,{class:"badge mt-2",state:u.project.state},null,8,["state"]),Mu,t(x,{class:"mt-2",total:u.project.places},null,8,["total"]),t(z,{class:"mt-4",project:u.project},null,8,["project"]),t(R,{class:"mt-4",project:u.project},null,8,["project"])])]),_:1})]),_:1}),t(w,null,{default:s(()=>[t(d,{items:[{title:"\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u043D\u0438\u044F \u043A \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0430\u043C",content:u.project.requirements,wide:!0},{title:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",content:u.project.description,wide:!0}]},null,8,["items"])]),_:1}),t(w,null,{default:s(()=>[t(C,{cols:2},{default:s(()=>[t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.product_result}]},null,8,["items"]),t(d,{items:[{title:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0443\u0447\u0435\u0431\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442",content:u.project.study_result}]},null,8,["items"])]),_:1})]),_:1}),((o=u.project)==null?void 0:o.skills.length)>0?(a(),h(w,{key:0},{default:s(()=>[t(d,null,{default:s(()=>[t(p,{bold:!1,wide:!0},{title:s(()=>[Tu]),default:s(()=>[t(N,{skills:u.project.skills,"show-all":""},null,8,["skills"])]),_:1})]),_:1})]),_:1})):D("",!0)],64)}}});var Ru=v(Nu,[["__scopeId","data-v-e95b4d26"]]);const zu={key:0},Yu=j({setup(u){const l=su(),e=lu(),r=I(!1),{openedProject:o,openedProjectHistory:n,loading:E,error:$}=ou(e);return ru(()=>o,()=>r.value=!1,{deep:!0}),(A,m)=>c(o)&&!c(E)&&!c($)?(a(),f("section",zu,[c(n)?(a(),h(Hu,{key:0,"current-project-id":c(o).id,"is-show":r.value,"project-list":c(n),size:"m",onClose:m[0]||(m[0]=F=>r.value=!1)},null,8,["current-project-id","is-show","project-list"])):D("",!0),c(l)?(a(),h(Cu,{key:1,project:c(o),"show-history-modal":r.value,history:c(n),onShowHistory:m[1]||(m[1]=F=>r.value=!0)},null,8,["project","show-history-modal","history"])):(a(),h(Ru,{key:2,project:c(o),"show-history-modal":r.value,history:c(n),onShowHistory:m[2]||(m[2]=F=>r.value=!0)},null,8,["project","show-history-modal","history"]))])):D("",!0)}});export{Yu as default};
