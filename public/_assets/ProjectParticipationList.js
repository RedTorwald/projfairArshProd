import{f as E,h as o,i as n,j as l,m as r,s as g,b as S,C as A,W as b,e as D,p as _,F as k,H as w,A as h,n as I,v as R}from"./vendor.js";import{a as P}from"./datetime.js";import{u as F,j as x,_ as L,d as N,c as O,R as M}from"./index.js";import{_ as V}from"./OpenParticipationModalButton.js";import{B as H}from"./BaseTable.js";const W=E({setup(j){const i=F(),c="\u041D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438 :(",u="\u041F\u043E\u043A\u0430 \u043D\u0430 \u044D\u0442\u043E\u0442 \u043F\u0440\u043E\u0435\u043A\u0442 \u0435\u0449\u0451 \u043D\u0435 \u043F\u043E\u0434\u0430\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438, \u0442\u0430\u043A \u0447\u0442\u043E \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u0441\u0442\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u044B\u043C!";return(d,m)=>(o(),n(x,{title:c,subtitle:u},{button:l(()=>[r(i).openedProject?(o(),n(V,{key:0,project:r(i).openedProject,variant:"primary"},null,8,["project"])):g("",!0)]),_:1}))}});const $=E({setup(j){const i=S(),c=F(),{openedProject:u,loading:d,error:m}=A(c);b(()=>{var a,s;const t=(a=u==null?void 0:u.value)==null?void 0:a.state.id,e=(s=u==null?void 0:u.value)==null?void 0:s.id;t&&!O(t)&&i.replace({name:M.PROJECT_DETAILS,params:{id:e}})});function C(t){return P.fromISO(t,{locale:"ru-RU"}).toLocaleString(P.DATETIME_MED_WITH_SECONDS)}function v(t){return[...t].sort((e,a)=>new Date(e.updated_at).getTime()*e.priority-new Date(a.updated_at).getTime()*a.priority)}const f=D(()=>{var e;let t=(e=u==null?void 0:u.value)==null?void 0:e.participations;return t?v(t):[]}),y=D(()=>f.value.map(({candidate:t,priority:e,updated_at:a,id:s},p)=>({key:String(s),data:[p+1,t.fio,t.training_group,e,C(a)]})));return(t,e)=>r(u)&&r(f).length>0&&!r(d)&&!r(m)?(o(),n(H,{key:0,class:"table",headers:["\u2116","\u0424\u0418\u041E","\u0413\u0440\u0443\u043F\u043F\u0430","\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u043E\u0441\u0442\u044C","\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438 \u0437\u0430\u044F\u0432\u043A\u0438"],rows:r(y)},{row:l(({row:a,index:s,key:p})=>[(o(),_("tr",{key:p||s,class:I({accepted:s+1<=r(u).places})},[(o(!0),_(k,null,w(a,(B,T)=>(o(),_("td",{key:T},h(B),1))),128))],2))]),_:1},8,["rows"])):(o(),n(N,{key:1},{default:l(()=>[R(W)]),_:1}))}});var K=L($,[["__scopeId","data-v-c685bcbc"]]);export{K as default};
